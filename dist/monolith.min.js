!function(){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}angular.module("productReviewAppModule",["titleModule","stepsModule","reviewFormModule","socialFormModule","summaryModule"]),angular.module("productReviewAppModule").config(["$interpolateProvider","$compileProvider",function($interpolateProvider,$compileProvider){$interpolateProvider.startSymbol("[["),$interpolateProvider.endSymbol("]]"),$compileProvider.debugInfoEnabled(!1),$compileProvider.commentDirectivesEnabled(!1),$compileProvider.cssClassDirectivesEnabled(!1)}]),angular.module("fieldsModule",["stateModule","validatorModule"]);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),CheckboxFieldController=function(){function CheckboxFieldController($attrs,appStore,appActions){if(_classCallCheck(this,CheckboxFieldController),void 0===$attrs.name)throw new Error("checkboxField requires name attribute to work!");if(void 0===$attrs.label)throw new Error("checkboxField requires label attribute to work!");this._appActions=appActions,this.label=$attrs.label,this.name=$attrs.name,this.value=null}return _createClass(CheckboxFieldController,null,[{key:"initClass",value:function initClass(){CheckboxFieldController.getTemplate=function(){return'\n                <label i-checkboxField>\n                    <span i-checkboxField-label ng-bind="::$ctrl.label"></span>\n\n                    <input\n                        i-checkboxField-input\n                        type="checkbox"\n                        ng-model="$ctrl.value"\n                        ng-change="$ctrl.onChange()"\n                    >\n                </label>\n            '},CheckboxFieldController.$inject=["$attrs","appStore","appActions"]}}]),_createClass(CheckboxFieldController,[{key:"onChange",value:function onChange(){this._appActions.setField(this.name,this.value)}}]),CheckboxFieldController}();CheckboxFieldController.initClass(),angular.module("fieldsModule").component("checkboxField",{controller:CheckboxFieldController,template:CheckboxFieldController.getTemplate});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),StarsFieldController=function(){function StarsFieldController($attrs,appStore,appActions){if(_classCallCheck(this,StarsFieldController),void 0===$attrs.name)throw new Error("starsField requires name attribute to work!");this._appActions=appActions,this.label=$attrs.label,this.name=$attrs.name,this.value=null,this.isRequired=void 0!==$attrs.required,this._isValid=null,appStore.registerStateObserver(this._onStateChange.bind(this))}return _createClass(StarsFieldController,null,[{key:"initClass",value:function initClass(){StarsFieldController.getTemplate=function(){return'\n                <label i-starsField="[[$ctrl.getValidModifier()]] [[::$ctrl.isRequired?\'required\':\'\']]">\n                    <span\n                        i-starsField-label\n                        ng-if="::$ctrl.label"\n                        ng-bind="::$ctrl.label"\n                    ></span>\n\n                    <button\n                        ng-repeat="number in [1, 2, 3, 4, 5]"\n                        i-starsField-star\n                        ng-click="$ctrl.setValue(number)"\n                        ng-bind="$ctrl.getStarText(number)"\n                    ></button>\n                </label>\n            '},StarsFieldController.$inject=["$attrs","appStore","appActions"]}}]),_createClass(StarsFieldController,[{key:"_onStateChange",value:function _onStateChange(state){this._isValid=state.fields[this.name].isValid}},{key:"setValue",value:function setValue(number){this.value=number,this._appActions.setField(this.name,this.value)}},{key:"getStarText",value:function getStarText(number){return number>this.value?"☆":"★"}},{key:"getValidModifier",value:function getValidModifier(){return!0===this._isValid?"valid":!1===this._isValid?"error":""}}]),StarsFieldController}();StarsFieldController.initClass(),angular.module("fieldsModule").component("starsField",{controller:StarsFieldController,template:StarsFieldController.getTemplate});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TextFieldController=function(){function TextFieldController($attrs,appStore,appActions){if(_classCallCheck(this,TextFieldController),void 0===$attrs.name)throw new Error("textField requires name attribute to work!");this._appActions=appActions,this.label=$attrs.label,this.name=$attrs.name,this.value=null,this.isRequired=void 0!==$attrs.required,this._isValid=null,appStore.registerStateObserver(this._onStateChange.bind(this))}return _createClass(TextFieldController,null,[{key:"initClass",value:function initClass(){TextFieldController.getTemplate=function($attrs){return"\n                <label i-textField=\"[[$ctrl.getValidModifier()]] [[::$ctrl.isRequired?'required':'']]\">\n                    "+("string"==typeof $attrs.multiline?'\n                    <textarea\n                        i-textField-input="multiline"\n                        placeholder="[[::$ctrl.label]]"\n                        ng-model="$ctrl.value"\n                        ng-change="$ctrl.onChange()"\n                        ng-blur="$ctrl.onBlur()"\n                        rows="4"\n                    ></textarea>\n                ':'\n                    <input\n                        i-textField-input\n                        placeholder="[[::$ctrl.label]]"\n                        type="text"\n                        ng-model="$ctrl.value"\n                        ng-change="$ctrl.onChange()"\n                        ng-blur="$ctrl.onBlur()"\n                    >\n                ')+"\n                </label>\n            "},TextFieldController.$inject=["$attrs","appStore","appActions"]}}]),_createClass(TextFieldController,[{key:"_onStateChange",value:function _onStateChange(state){this._isValid=state.fields[this.name].isValid}},{key:"onChange",value:function onChange(){this._appActions.setField(this.name,this.value)}},{key:"onBlur",value:function onBlur(){this._appActions.setField(this.name,this.value)}},{key:"getValidModifier",value:function getValidModifier(){return!0===this._isValid?"valid":!1===this._isValid?"error":""}}]),TextFieldController}();TextFieldController.initClass(),angular.module("fieldsModule").component("textField",{controller:TextFieldController,template:TextFieldController.getTemplate}),angular.module("observableModule",[]);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ObservableModel=function(){function ObservableModel(){_classCallCheck(this,ObservableModel),this._observers=[],this._amountOfObservers=0,this._observersToRemove=[],this._amountToRemove=0,this._stateObservers=[],this._isActive=!1}return _createClass(ObservableModel,[{key:"_createCancelFunction",value:function _createCancelFunction(observerToCancel,afterCancelCallback){return function(){afterCancelCallback(observerToCancel),observerToCancel=null,afterCancelCallback=null}}},{key:"_afterCancel",value:function _afterCancel(observerToRemove){this._amountToRemove=this._observersToRemove.push(observerToRemove)}},{key:"_cleanRemovedObservers",value:function _cleanRemovedObservers(){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this._observersToRemove[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var observerToRemove=_step.value,indexOf=this._observers.indexOf(observerToRemove);-1!==indexOf&&this._observers.splice(indexOf,1)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this._amountOfObservers=this._observers.length,this._amountToRemove=0,this._observersToRemove.length=0,this._updateState(this._amountOfObservers>0)}},{key:"_updateState",value:function _updateState(newActiveState){if(this._isActive!==newActiveState){this._isActive=newActiveState;var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this._stateObservers[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){(0,_step2.value)(this._isActive)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}}},{key:"register",value:function register(newObserver){return this._amountOfObservers=this._observers.push(newObserver),this._updateState(!0),this._createCancelFunction(newObserver,this._afterCancel.bind(this))}},{key:"notify",value:function notify(){if(0!==this._amountToRemove&&this._cleanRemovedObservers(),this._isActive){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];if(1===this._amountOfObservers)return void this._observers[0].apply(null,args);var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=this._observers[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){_step3.value.apply(null,args)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}}},{key:"onStateChange",value:function onStateChange(stateObserver){return this._stateObservers.push(stateObserver)}}]),ObservableModel}();angular.module("observableModule").factory("Observable",function(){return ObservableModel}),angular.module("reviewFormModule",["fieldsModule","stateModule"]);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ReviewFormErrorController=function(){function ReviewFormErrorController(appStore){_classCallCheck(this,ReviewFormErrorController),this.isVisible=null,appStore.registerStateObserver(this._onStateChange.bind(this)),this._onStateChange(appStore.getState())}return _createClass(ReviewFormErrorController,null,[{key:"initClass",value:function initClass(){ReviewFormErrorController.stepId="review",ReviewFormErrorController.$inject=["appStore"]}}]),_createClass(ReviewFormErrorController,[{key:"_onStateChange",value:function _onStateChange(state){this.isVisible=state.steps.get("review").isErrorVisible}}]),ReviewFormErrorController}();ReviewFormErrorController.initClass(),angular.module("reviewFormModule").controller("reviewFormErrorCtrl",ReviewFormErrorController);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ReviewFormNextButtonController=function(){function ReviewFormNextButtonController(appStore,appActions){_classCallCheck(this,ReviewFormNextButtonController),this._appStore=appStore,this._appActions=appActions}return _createClass(ReviewFormNextButtonController,null,[{key:"initClass",value:function initClass(){ReviewFormNextButtonController.$inject=["appStore","appActions"]}}]),_createClass(ReviewFormNextButtonController,[{key:"tryGoNext",value:function tryGoNext(){var state=this._appStore.getState(),areAllRequiredFieldsValid=!0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=Object.keys(state.fields)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var fieldName=_step.value;if(state.fields[fieldName].isRequired&&!0!==state.fields[fieldName].isValid){areAllRequiredFieldsValid=!1;break}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}areAllRequiredFieldsValid?this._appActions.setCurrentStepId("socials"):this._appActions.setReviewError(!0)}}]),ReviewFormNextButtonController}();ReviewFormNextButtonController.initClass(),angular.module("reviewFormModule").controller("reviewFormNextButtonCtrl",ReviewFormNextButtonController),angular.module("socialFormModule",["fieldsModule","stateModule"]);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SocialFormNextButtonController=function(){function SocialFormNextButtonController(appActions){_classCallCheck(this,SocialFormNextButtonController),this._appActions=appActions}return _createClass(SocialFormNextButtonController,null,[{key:"initClass",value:function initClass(){SocialFormNextButtonController.$inject=["appActions"]}}]),_createClass(SocialFormNextButtonController,[{key:"tryGoNext",value:function tryGoNext(){this._appActions.setCurrentStepId("summary")}}]),SocialFormNextButtonController}();SocialFormNextButtonController.initClass(),angular.module("socialFormModule").controller("socialFormNextButtonCtrl",SocialFormNextButtonController),angular.module("stateModule",["observableModule","validatorModule"]);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),appActionsService=function(){function appActionsService(appStore,validator){_classCallCheck(this,appActionsService),this._appStore=appStore,this._validator=validator}return _createClass(appActionsService,null,[{key:"initClass",value:function initClass(){appActionsService.$inject=["appStore","validator"]}}]),_createClass(appActionsService,[{key:"setProductTitle",value:function setProductTitle(title){var state=this._appStore.getState();state.productTitle=title,this._appStore.setState(state)}},{key:"setField",value:function setField(fieldName,value){var state=this._appStore.getState();if(void 0===state.fields[fieldName])throw new Error('Unknown field: "'+fieldName+'"!');state.fields[fieldName].value=value,this._appStore.setState(state),this._validateField(fieldName)}},{key:"_validateField",value:function _validateField(fieldName){var state=this._appStore.getState(),field=state.fields[fieldName];if(void 0===field)throw new Error('Unknown field: "'+fieldName+'"!');field.isRequired?"text"===field.validityType?field.isValid=this._validator.isNonEmptyString(field.value):"rating"===field.validityType&&(field.isValid=this._validator.isIntegerInRange(field.value,1,5)):field.isValid=!0,this._appStore.setState(state)}},{key:"_validateAllFields",value:function _validateAllFields(){var state=this._appStore.getState(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=Object.keys(state.fields)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var fieldName=_step.value;this._validateField(fieldName)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"setSocial",value:function setSocial(socialName,isChecked){var state=this._appStore.getState();if(void 0===state.socials[socialName])throw new Error('Unknown social: "'+socialName+'"!');state.socials[socialName]=isChecked,this._appStore.setState(state)}},{key:"setReviewError",value:function setReviewError(isErrored){var state=this._appStore.getState();state.steps.get("review").isErrorVisible=isErrored,this._appStore.setState(state),this._validateAllFields()}},{key:"setCurrentStepId",value:function setCurrentStepId(stepId){var state=this._appStore.getState();if(void 0===state.steps.get(stepId))throw new Error('Unknown step: "'+stepId+'"!');state.currentStepId=stepId,this._appStore.setState(state)}}]),appActionsService}();appActionsService.initClass(),angular.module("stateModule").service("appActions",appActionsService);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),appStoreService=function(){function appStoreService(Observable,initialAppState){_classCallCheck(this,appStoreService),this._state=_.cloneDeep(initialAppState),this._stateObservable=new Observable}return _createClass(appStoreService,null,[{key:"initClass",value:function initClass(){appStoreService.$inject=["Observable","initialAppState"]}}]),_createClass(appStoreService,[{key:"registerStateObserver",value:function registerStateObserver(observer){return this._stateObservable.register(observer)}},{key:"getState",value:function getState(){return _.cloneDeep(this._state)}},{key:"setState",value:function setState(newState){_.isEqual(newState,this._state)||(this._state=newState,this._stateObservable.notify(this.getState()))}}]),appStoreService}();appStoreService.initClass(),angular.module("stateModule").service("appStore",appStoreService),angular.module("stateModule").constant("initialAppState",{productTitle:null,currentStepId:null,steps:new Map([["review",{name:"Step 1",isVisibleInMenu:!0,isUnlocked:!1,isErrorVisible:!1}],["socials",{name:"Step 2",isVisibleInMenu:!0,isUnlocked:!1}],["summary",{name:"Step 3",isVisibleInMenu:!0,isUnlocked:!1}],["final",{name:null,isVisibleInMenu:!1,isUnlocked:!1}]]),fields:{yourName:{value:null,isRequired:!0,validityType:"text",isValid:null},title:{value:null,isRequired:!1,isValid:!0},reviewText:{value:null,isRequired:!0,validityType:"text",isValid:null},stars:{value:null,isRequired:!0,validityType:"rating",isValid:null},facebook:{value:!1,isRequired:!1,isValid:!1},twitter:{value:!1,isRequired:!1,isValid:!1},linkedIn:{value:!1,isRequired:!1,isValid:!1}}}),angular.module("stepsModule",["stateModule"]);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),StepsContentController=function(){function StepsContentController(appStore){_classCallCheck(this,StepsContentController),this.currentStepId=null,appStore.registerStateObserver(this._onStateChange.bind(this)),this._onStateChange(appStore.getState())}return _createClass(StepsContentController,null,[{key:"initClass",value:function initClass(){StepsContentController.$inject=["appStore"]}}]),_createClass(StepsContentController,[{key:"_onStateChange",value:function _onStateChange(state){this.currentStepId=state.currentStepId}}]),StepsContentController}();StepsContentController.initClass(),angular.module("stepsModule").controller("stepsContentCtrl",StepsContentController);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),StepsMenuController=function(){function StepsMenuController(appStore,appActions){_classCallCheck(this,StepsMenuController),this._appActions=appActions,this.options=[],appStore.registerStateObserver(this._onStateChange.bind(this)),this._onStateChange(appStore.getState())}return _createClass(StepsMenuController,null,[{key:"initClass",value:function initClass(){StepsMenuController.$inject=["appStore","appActions"]}}]),_createClass(StepsMenuController,[{key:"_onStateChange",value:function _onStateChange(state){var _this=this;this.options=[],state.steps.forEach(function(stepData,stepId){stepData.id=stepId,stepData.show=function(){_this._appActions.setCurrentStepId(stepId)},_this.options.push(stepData)})}}]),StepsMenuController}();StepsMenuController.initClass(),angular.module("stepsModule").controller("stepsMenuCtrl",StepsMenuController),angular.module("summaryModule",["stateModule"]);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PublishButtonController=function(){function PublishButtonController(appActions){_classCallCheck(this,PublishButtonController),this._appActions=appActions}return _createClass(PublishButtonController,null,[{key:"initClass",value:function initClass(){PublishButtonController.$inject=["appActions"]}}]),_createClass(PublishButtonController,[{key:"publish",value:function publish(){this._appActions.setCurrentStepId("final")}}]),PublishButtonController}();PublishButtonController.initClass(),angular.module("summaryModule").controller("publishButtonCtrl",PublishButtonController);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SummaryController=function(){function SummaryController(appStore){_classCallCheck(this,SummaryController),this.state=appStore.getState(),appStore.registerStateObserver(this._onStateChange.bind(this))}return _createClass(SummaryController,null,[{key:"initClass",value:function initClass(){SummaryController.$inject=["appStore"]}}]),_createClass(SummaryController,[{key:"_onStateChange",value:function _onStateChange(state){this.state=state}}]),SummaryController}();SummaryController.initClass(),angular.module("summaryModule").controller("summaryCtrl",SummaryController),angular.module("titleModule",["stateModule","urlParamsModule"]),angular.module("titleModule").run(["title",angular.noop]);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TitleService=function(){function TitleService(appStore,appActions,urlParams){_classCallCheck(this,TitleService),appActions.setProductTitle(urlParams.getParam("product"))}return _createClass(TitleService,null,[{key:"initClass",value:function initClass(){TitleService.$inject=["appStore","appActions","urlParams"]}}]),TitleService}();TitleService.initClass(),angular.module("titleModule").service("title",TitleService);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TitleController=function(){function TitleController(appStore){_classCallCheck(this,TitleController),this.text=null,appStore.registerStateObserver(this._onStateChange.bind(this)),this._onStateChange(appStore.getState())}return _createClass(TitleController,null,[{key:"initClass",value:function initClass(){TitleController.$inject=["appStore"]}}]),_createClass(TitleController,[{key:"_onStateChange",value:function _onStateChange(state){this.text=state.productTitle}}]),TitleController}();TitleController.initClass(),angular.module("titleModule").controller("titleCtrl",TitleController),angular.module("urlParamsModule",[]),angular.module("urlParamsModule").config(function($locationProvider){$locationProvider.html5Mode({enabled:!0,requireBase:!1})});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),UrlParamsService=function(){function UrlParamsService($location){_classCallCheck(this,UrlParamsService),this._$location=$location}return _createClass(UrlParamsService,null,[{key:"initClass",value:function initClass(){UrlParamsService.$inject=["$location"]}}]),_createClass(UrlParamsService,[{key:"getParam",value:function getParam(paramName){var searchParams=this._$location.search();return void 0===searchParams[paramName]?null:searchParams[paramName]}}]),UrlParamsService}();UrlParamsService.initClass(),angular.module("urlParamsModule").service("urlParams",UrlParamsService),angular.module("validatorModule",[]);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),
staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ValidatorService=function(){function ValidatorService(){_classCallCheck(this,ValidatorService)}return _createClass(ValidatorService,[{key:"isNonEmptyString",value:function isNonEmptyString(string){return"string"==typeof string&&string.trim().length>0}},{key:"isIntegerInRange",value:function isIntegerInRange(number,min,max){return!!Number.isInteger(number)&&(number>=min&&number<=max)}}]),ValidatorService}();angular.module("validatorModule").service("validator",ValidatorService)}();