!function(){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}angular.module("productReviewAppModule",[]),angular.module("productReviewAppModule").config(["$interpolateProvider","$compileProvider",function($interpolateProvider,$compileProvider){$interpolateProvider.startSymbol("[["),$interpolateProvider.endSymbol("]]"),$compileProvider.debugInfoEnabled(!1),$compileProvider.commentDirectivesEnabled(!1),$compileProvider.cssClassDirectivesEnabled(!1)}]),angular.module("observableModule",[]);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ObservableModel=function(){function ObservableModel(){_classCallCheck(this,ObservableModel),this._observers=[],this._amountOfObservers=0,this._observersToRemove=[],this._amountToRemove=0,this._stateObservers=[],this._isActive=!1}return _createClass(ObservableModel,[{key:"_createCancelFunction",value:function _createCancelFunction(observerToCancel,afterCancelCallback){return function(){afterCancelCallback(observerToCancel),observerToCancel=null,afterCancelCallback=null}}},{key:"_afterCancel",value:function _afterCancel(observerToRemove){this._amountToRemove=this._observersToRemove.push(observerToRemove)}},{key:"_cleanRemovedObservers",value:function _cleanRemovedObservers(){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this._observersToRemove[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var observerToRemove=_step.value,indexOf=this._observers.indexOf(observerToRemove);-1!==indexOf&&this._observers.splice(indexOf,1)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this._amountOfObservers=this._observers.length,this._amountToRemove=0,this._observersToRemove.length=0,this._updateState(this._amountOfObservers>0)}},{key:"_updateState",value:function _updateState(newActiveState){if(this._isActive!==newActiveState){this._isActive=newActiveState;var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this._stateObservers[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){(0,_step2.value)(this._isActive)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}}},{key:"register",value:function register(newObserver){return this._amountOfObservers=this._observers.push(newObserver),this._updateState(!0),this._createCancelFunction(newObserver,this._afterCancel.bind(this))}},{key:"notify",value:function notify(){if(0!==this._amountToRemove&&this._cleanRemovedObservers(),this._isActive){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];if(1===this._amountOfObservers)return void this._observers[0].apply(null,args);var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=this._observers[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){_step3.value.apply(null,args)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}}},{key:"onStateChange",value:function onStateChange(stateObserver){return this._stateObservers.push(stateObserver)}}]),ObservableModel}();angular.module("observableModule").factory("Observable",function(){return ObservableModel})}();